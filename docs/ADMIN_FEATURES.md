# RuAlive 管理后台功能列表

---

## 页面结构

当前管理后台为单页面应用（SPA），包含以下主要功能模块：

```
/admin
├── 邀请码管理 (Invite Codes)
├── 用户管理 (Users)
├── API密钥管理 (API Key)
└── 邮件发送日志 (Email Logs)
```

---

## 功能模块详细说明

### 1. 邀请码管理

#### 功能列表
- 查看所有邀请码列表
- 创建新邀请码（可设置最大使用次数和有效期）
- 删除邀请码
- 查看邀请码使用状态（已用次数/最大次数）

---

### 2. 用户管理

#### 功能列表
- 查看所有用户列表
- 查看用户详情（基本信息、邮件统计、邮件限制）
- 删除用户
- 重置用户密码（支持自动生成或手动设置）
- 查看用户邮件发送统计
- 设置用户邮件发送限制

---

### 3. API密钥管理

#### 功能列表
- 查看当前API密钥（脱敏显示）
- 设置新API密钥
- 删除API密钥
- 测试API密钥连接

---

### 4. 邮件发送日志

#### 功能列表
- 查看所有邮件发送日志
- 查看邮件发送统计（总数、成功、失败）
- 按用户筛选邮件日志
- 查看邮件发送详情（收件人、主题、时间、状态）

---

## 公共API（需要认证）

以下API所有用户（包括管理员和普通用户）都可以访问：

| 端点 | 方法 | 功能 |
|------|------|------|
| `/api/auth/login` | POST | 用户登录 |
| `/api/auth/logout` | POST | 用户登出 |
| `/api/auth/user` | GET | 获取当前用户信息 |
| `/api/auth/change-password` | POST | 修改密码 |
| `/api/config` | GET | 获取用户配置 |
| `/api/config` | POST | 更新用户配置 |
| `/api/work-data` | POST | 上传工作数据 |
| `/api/send-now` | POST | 立即发送邮件 |
| `/api/projects/summary` | GET | 获取项目汇总 |
| `/api/projects/history` | GET | 获取项目历史 |

---

## 认证说明

所有管理后台API都需要管理员权限认证：

**请求头：**
```
Authorization: Bearer <token>
```

**认证流程：**
1. 用户登录获取token
2. 将token存储在 `localStorage['rualive_token']`
3. 每次请求在请求头中携带token
4. 后端验证token和用户角色（role: 'admin'）

---

## 设计建议

### 前端设计要点
1. **Tab切换**：使用Tab组件切换不同功能模块
2. **权限控制**：根据用户角色显示/隐藏管理功能
3. **加载状态**：所有API调用都应显示加载状态
4. **错误处理**：统一的错误提示机制
5. **确认操作**：删除用户、重置密码等危险操作需要二次确认
6. **实时更新**：考虑使用WebSocket或轮询实现实时数据更新

### UI/UX 建议
1. **响应式设计**：支持桌面和移动端
2. **暗色主题**：保持与整体风格一致
3. **拟态窗**：详情查看、确认操作使用模态窗
4. **数据可视化**：邮件统计可使用图表展示
5. **搜索过滤**：用户列表支持搜索和过滤功能

---

**文档版本**: 1.0  
**最后更新**: 2026-01-30